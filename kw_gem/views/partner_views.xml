<odoo>
    <record id="kw_gem_res_partner_form" model="ir.ui.view">
        <field name="name">res.partner.form (kw_gem)</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet" position="before">
                <field name="kw_alert" invisible="True"/>
                <div class="alert alert-warning oe_edit_only" role="alert" attrs="{'invisible': [('same_vat_partner_id', '=', False), ('kw_alert', '=', False),]}">
                  A partner with the same <span><span class="o_vat_label">Tax ID</span></span> already exists (<field name="same_vat_partner_id" can_create="true" can_write="true"/>
<!--                <field name="partner_gid" invisible="True"/>-->
<!--                <field name="additional_info" invisible="True"/>-->
            ), are you sure to create a new one?
                </div>
            </xpath>
            <xpath expr="//form/sheet/group/group/field[@name='vat']"
                   position="attributes">
                <attribute name="string">ID</attribute>
                <attribute name="required">1</attribute>
            </xpath>
            <xpath expr="//form/sheet/group/group/field[@name='vat']"
                   position="after">
                <field name="additional_email" widget="section_and_note_one2many"/>
            </xpath>
            <xpath expr="//form/sheet/group/group/field[@name='additional_email']"
                   position="after">
                <field name="kw_residency_ids" widget="many2many_tags"/>
            </xpath>
            <xpath expr="//field[@name='kw_residency_ids']" position="after">
                <field name="birthday" attrs="{'invisible': [('company_type', '=', 'company')]}"/>
            </xpath>
            <xpath expr="//field[@name='birthday']" position="after">
                <field name="gender" required="1"/>
            </xpath>

            <xpath expr="//field[@name='function']" position="before">
                <span class="o_form_label o_td_label" name="legal_address_name">
                    <field name="type_legal" class="font-weight-bold"/>
                </span>
                <div class="o_address_format">
                    <field name="street_legal" placeholder="Street..." class="o_address_street" attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}" modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}"/>
                    <field name="street2_legal" placeholder="Street 2..." class="o_address_street" attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}" modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}"/>
                    <field name="city_legal" placeholder="City" class="o_address_city" attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}" modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}"/>
                    <field name="state_legal_id" class="o_address_state" placeholder="State" options="{'no_open': True, 'no_quick_create': True}" attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}" context="{'country_id': country_id, 'default_country_id': country_id, 'zip': zip}" on_change="1" can_create="true" can_write="true" modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}"/>
                    <field name="zip_legal" placeholder="ZIP" class="o_address_zip" attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}" on_change="1" modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}"/>
                    <field name="country_legal_id" placeholder="Country" class="o_address_country" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}" attrs="{'readonly': [('type', '=', 'contact'),('parent_id', '!=', False)]}" on_change="1" can_create="true" can_write="true" modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}"/>
                </div>
            </xpath>
            <xpath expr="//group[1]/group[2]/field[@name='birthday']"
                   position="attributes">
                    <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//group[1]/group[2]/field[@name='gender']"
                   position="attributes">
                    <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//notebook/page[@name='sales_purchases']"
                   position="after">
                <page name="Agreements" string="Agreements">
                    <field name="property_product_pricelist" invisible="1"/>
                    <field name="kw_agreement_ids"
                           context="{'default_kw_pricelist_id':
                           property_product_pricelist}">
                        <tree create="true">
                            <field name="name" string="Agreement Name"/>
                            <field name="kw_pricelist_id" string="Pricelist"/>
                            <field name="start_date"/>
                        </tree>
                    </field>
                </page>
            </xpath>
            <xpath expr="//form/sheet/group/group/field[@name='function']" position="after">
                <field name="additional_email" position="move"/>
            </xpath>
<!--            <xpath expr="//form/sheet/group/group/field[@name='vat']" position="after">-->
<!--                <label for="phone" position="move"/>-->
<!--                <field name="phone" position="move"/>-->
<!--                <label for="mobile" position="move" />-->
<!--                <field name="mobile" position="move"/>-->
<!--                <label for="email" position="move"/>-->
<!--                <field name="email" string="" position="move"/>-->
<!--                <field name="website" position="move"/>-->
<!--                <field name="title" position="move"/>-->
<!--            </xpath>-->

<!--            <xpath expr="//group[1]/group[2]/field[@name='additional_email']"-->
<!--                   position="attributes">-->
<!--                    <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//label[@for='phone']"-->
<!--                   position="attributes">-->
<!--                    <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//label[@for='mobile']"-->
<!--                   position="attributes">-->
<!--                    <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//label[@for='email']"-->
<!--                   position="attributes">-->
<!--                    <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//group[1]/group[2]/field[@name='mobile']"-->
<!--                   position="attributes">-->
<!--                    <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//group[1]/group[2]/field[@name='email']"-->
<!--                   position="attributes">-->
<!--                    <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//group[1]/group[2]/field[@name='website']"-->
<!--                   position="attributes">-->
<!--                    <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//group[1]/group[2]/field[@name='title']"-->
<!--                   position="attributes">-->
<!--                    <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
        </field>
    </record>
</odoo>
